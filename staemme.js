var staemme;(()=>{"use strict";var e={407:(e,t,n)=>{n.d(t,{A:()=>c});var r=n(601),o=n.n(r),i=n(314),a=n.n(i)()(o());a.push([e.id,"#menuButton {\n    cursor: pointer;\n}\n\n.sta-menu-item-checkbox-first-child {\n    margin: 3px 0px 0px;\n}\n\n.sta-menu-item-checkbox {\n    margin: 1px 0px 0px;\n}\n\n.sta-menu-item-container {\n    display: flex;\n    gap: 3px;\n    align-items: center;\n    left: -5px;\n    position: relative;\n}\n\n.sta-leftUiThingyFirstChild {\n    background: transparent url(https://dsde.innogamescdn.com/asset/c045337f/graphic/index/dropdown-topleft.png) scroll left top no-repeat;\n    height: 21px;\n    width: 20px;\n    left: -5px;\n    position: relative;\n}\n\n.sta-leftUiThingy {\n    background: transparent url(https://dsde.innogamescdn.com/asset/c045337f/graphic/index/dropdown-itemleft.png) scroll left top no-repeat;\n    height: 21px;\n    width: 20px;\n    left: -5px;\n    position: relative;\n}\n\n.sta-menu-column-item-text-first-child:hover, .sta-menu-column-item-text:hover, #iconContainer:hover {\n    color: #f0d49a;\n}\n\n.sta-menu-column-item-text-first-child {\n    padding: 5px 12px 3px 6px;\n    left: -5px;\n    position: relative;\n}\n\n.sta-menu-column-item-text {\n    padding: 4px 12px 3px 6px;\n    left: -5px;\n    position: relative;\n}\n\n.sta-menu-column-item {\n    display: flex !important;\n    flex-direction: row;\n}\n\n.sta-corner {\n    left: -5px !important;\n}\n\n.sta-menu-column {\n    margin-left: 4px !important;\n    border-spacing: 0;\n}\n\n.sta-construction-building-upgradeable {\n    display: flex;\n    flex-direction: column;\n    gap: 2px;\n}\n\n.sta-construction-building-level-upgradeable {\n    background-color: #f0e2be;\n    font-weight: 700;\n    color: #603000;\n    cursor: pointer;\n    width: 22px;\n    height: 18px;\n    padding: 2px;\n    text-align: center;\n    align-content: center;\n}\n\n.sta-building-icon {\n    background-image: url(https://dsde.innogamescdn.com/asset/234518f7/graphic/screen/tableheader_bg3.png);\n    background-size: contain;\n    width: 18px;\n    height: 18px;\n    padding: 4px;\n}\n\n.sta-total-level {\n    display: flex;\n    gap: 2px;\n    width: fit-content;\n    flex-grow: 0;\n}\n\n.sta-construction-menu-buildplan {\n    display: flex;\n    flex-direction: row;\n    gap: 4px;\n}\n",""]);const c=a},718:(e,t,n)=>{n.d(t,{A:()=>f});var r=n(601),o=n.n(r),i=n(314),a=n.n(i),c=n(417),s=n.n(c),l=new URL(n(535),n.b),u=new URL(n(377),n.b),p=a()(o()),d=s()(l),h=s()(u);p.push([e.id,`.sta-container {\n    background: url(https://dsde.innogamescdn.com/asset/234518f7/graphic/index/grey-fade.png);\n    height: 100%;\n}\n\n.sta-popup {\n    transition-duration: 0.5s;\n    z-index: 15000;\n    border-radius: 25px;\n    overflow: auto;\n    padding: 10px;\n    background-color: rgb(227, 213, 179);\n    background-image: url(https://dsde.innogamescdn.com/asset/234518f7/graphic/index/main_bg.jpg);\n}\n\n.sta-nav-item {\n    color: #603000;\n    cursor: pointer;\n    width: -webkit-fill-available;\n    font-weight: 700;\n    padding: 2px 3px;\n    background-color: rgb(244, 228, 188);\n}\n\n.sta-nav-item.sta-nav-item-selected {\n    background-color: rgb(250, 220, 155);\n    color: #803000;\n}\n\n.sta-logs {\n    font-weight: 700;\n    color: #603000;\n    cursor: pointer;\n}\n\n.sta-popup-header-label {\n}\n\n.sta-popup-description {\n    flex-grow: 1;\n    flex-shrink: 1;\n    padding-left: 50px;\n    padding-right: 50px;\n}\n\n.sta-logs:hover {\n    color: #e01f0f;\n}\n\n.sta-popup-header-container {\n    display: flex;\n    flex-direction: row;\n    flex-wrap: nowrap;\n    gap: 4px;\n    align-content: center;\n    margin-bottom: 25px;\n}\n\n.sta-construction-building-level-upgradeable:hover, .sta-nav-item:hover {\n    color: #e01f0f;\n}\n\n.sta-popup-content {\n    gap: 10px;\n    display: flex;\n}\n\n.sta-menu-component {\n    display: flex;\n    flex-direction: column;\n    gap: 2px;\n    position: relative;\n}\n\n.sta-labelled-input {\n    display: flex;\n    background-color: rgb(244, 228, 188);\n    padding: 2px 3px;\n    gap: 2px;\n    flex-grow: 1;\n}\n\n.sta-input-label {\n    align-content: center;\n}\n\n.sta-numeric-input {\n    width: 25pt;\n}\n\n.clickable {\n    cursor: pointer;\n}\n\n.sta-menu-header {\n    font-weight: 700;\n    background-image: url(https://dsde.innogamescdn.com/asset/234518f7/graphic/screen/tableheader_bg3.png);\n    padding: 2px 3px;\n}\n\n.sta-menu-item-row {\n    display: flex;\n    gap: 2px;\n}\n\n.sta-menu-setting-label {\n    background-color: rgb(244, 228, 188);\n    padding: 2px 3px;\n    align-content: center;\n    min-width: 135px;\n}\n\n.sta-nav {\n    display: flex;\n    flex-direction: column;\n    height: fit-content;\n    width: fit-content;\n    gap: 2px;\n}\n\n.sta-fade-in {\n    animation: fadein 0.5s linear;\n    position: relative;\n}\n\n.sta-fade-out {\n    animation: fadeout 0.3s linear;\n    position: relative;\n}\n\n.sta-info {\n    background: url('https://dsde.innogamescdn.com/asset/234518f7/graphic/questionmark.png') no-repeat center;\n    background-size: 17px;\n    width: 17px;\n    height: 17px;\n    margin-top: 3px;\n    flex-shrink: 0;\n}\n\n@-webkit-keyframes fadein {\n    0% {\n        opacity: 0;\n        z-index: -1;\n        top: 50px;\n    }\n    100% {\n        opacity: 1;\n        z-index: auto;\n        top: 0px;\n    }\n}\n\n@-webkit-keyframes fadeout {\n    0% {\n        opacity: 1;\n        margin-left: 0px;\n    }\n    100% {\n        opacity: 0;\n        margin-left: -70px;\n    }\n}\n\n.sta-feature-header-premiun-icon {\n    width: 15px;\n    height: 15px;\n    margin-top: 2px;\n}\n\n.sta-feature-header-premium {\n    background-image: url(https://dsde.innogamescdn.com/asset/234518f7/graphic/screen/tableheader_bg3.png);\n    padding: 0px 3px;\n    display: flex;\n    flex-direction: row;\n    gap: 2px;\n}\n\n.sta-construction-entries {\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    gap: 2px;\n}\n\n.sta-construction-entry-row {\n    display: flex;\n    flex-direction: row;\n    gap: 2px;\n    align-content: center;\n    background-color: rgb(244, 228, 188);\n    align-items: center;\n}\n\n.sta-construction-entry-icon {\n    width: 18px;\n    height: 18px;\n    padding: 2px 4px;\n}\n\n.sta-construction-entry-name {\n    font-weight: 700;\n    color: #603000;\n}\n\n.sta-construction-entry-level {\n    flex-grow: 1;\n}\n\n.sta-construction-entry-plus {\n    background: url(${d}) center no-repeat;\n    background-size: contain;\n    width: 14px;\n    height: 14px;\n    margin: 4px;\n    cursor: pointer;\n}\n\n.sta-construction-entry-minus {\n    background: url(${h}) center no-repeat;\n    background-size: contain;\n    width: 14px;\n    height: 14px;\n    margin: 4px;\n    cursor: pointer;\n}\n\n.sta-construction-entry-remove {\n    background: url(https://dsde.innogamescdn.com/asset/234518f7/graphic/delete.png) center no-repeat;\n    width: 22px;\n    height: 22px;\n    cursor: pointer;\n}\n\n.sta-construction-entry-drag {\n    background: url(https://dsde.innogamescdn.com/asset/234518f7/graphic/sorthandle.png) center no-repeat;\n    width: 22px;\n    height: 22px;\n    cursor: pointer;\n}\n`,""]);const f=p},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,o,i){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var c=0;c<this.length;c++){var s=this[c][0];null!=s&&(a[s]=!0)}for(var l=0;l<e.length;l++){var u=[].concat(e[l]);r&&a[u[0]]||(void 0!==i&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=i),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),o&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=o):u[4]="".concat(o)),t.push(u))}},t}},417:e=>{e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},601:e=>{e.exports=function(e){return e[1]}},72:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var i={},a=[],c=0;c<e.length;c++){var s=e[c],l=r.base?s[0]+r.base:s[0],u=i[l]||0,p="".concat(l," ").concat(u);i[l]=u+1;var d=n(p),h={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==d)t[d].references++,t[d].updater(h);else{var f=o(h,r);r.byIndex=c,t.splice(c,0,{identifier:p,updater:f,references:1})}a.push(p)}return a}function o(e,t){var n=t.domAPI(t);n.update(e);return function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var i=r(e=e||[],o=o||{});return function(e){e=e||[];for(var a=0;a<i.length;a++){var c=n(i[a]);t[c].references--}for(var s=r(e,o),l=0;l<i.length;l++){var u=n(i[l]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}i=s}}},659:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},56:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},535:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAilJREFUSEvtlT9oU1EUxn/nviQNNK1/QG3VQpGGahNbMUIpieIiCCI4ieDk5KRgFyeliuBScHNxcNBBKm4OpYODWIpgUayplRQsIm4qrdWa5L179FFLn4nmtU0n8Y7nnvN995x7zvmEsDOA6TyVbYkoZ0U5pqgBeWhcuTHR/eRzWLiEOXQUepvjnnNOrVwL+M4Dt/Jdo/1h8aEEeyYPthq1Qwi5CrC3+VejSU7i1SIJJeguHN7pld1HoMkKoJn4t+/7xg+Mz9ZF0POmb0fZM8MC6f8Efyxl/SUawHSc7k1Ey7HGaNRxxBY1yGSt02LRuyi7f3uB6nsT0SMGvgTtZdc4tuQZN6GfppNP56RzKrs9ip5RT44isk3RYjBAhIgq7QLxihRLwLSCXbKLYlTYCNooMIjqTUm9zl5BuRw2MGu4nxfhtqQns88UMmsAWEnIjJ/BC5SelXiv0kcVCpKazF4FLgCJVQLUcvcb5ePPxrgne1/mNtmIXgJOANWrQzWCyFYgVoHoAh8IfPLyvSxgdThWYnAZcAgnsytTlUWpKdZqPfMA6KogeCeek2sofp0L2mc3RHRL3JTH2sYWfHvosqt/0EIK/28QuK4ZQar+YH30ID1xqM067mNB2iv1oBh1e/x9U5fgLEqm3kc0GwBSkKnmJi+z1C1/IwntIl/0G8rOeZCLv4ZxcYgsd/LpdRB9/2WpfN9mMWZAleMKJVFGYkWuP98/6g9azfMD7D0FlN+wuocAAAAASUVORK5CYII="},377:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAM1BMVEUAAAAAZ/8AZv8AZv8AZ/8AZv8AZv8AZv8AZv8AZv8AZv8AZv8AZv8AZf8AZv8AZv////+Fr8V6AAAAD3RSTlMAT+jmSuTh9/37/PrgR9w26QDFAAAAAWJLR0QQlbINLAAAAAd0SU1FB+YKFBM0M4OYBZ4AAAA8SURBVDjL7dKpAQAwCEPR9ITe+2/bDYJF8CxfRAAEN1J+RKloj+oQHigGDyaUB8sKBNsaeTq73xOP4McHs4IObtg7GTsAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjItMTAtMjBUMTk6NTI6NTErMDA6MDASOJbCAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIyLTEwLTIwVDE5OjUyOjUxKzAwOjAwY2UufgAAAABJRU5ErkJggg=="}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,exports:{}};return e[r](i,i.exports,n),i.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.b=document.baseURI||self.location.href,n.nc=void 0;var r={};(()=>{n.r(r),n.d(r,{initStaemmeBot:()=>ae});var e=n(72),t=n.n(e),o=n(825),i=n.n(o),a=n(659),c=n.n(a),s=n(56),l=n.n(s),u=n(540),p=n.n(u),d=n(113),h=n.n(d),f=n(407),m={};m.styleTagTransform=h(),m.setAttributes=l(),m.insert=c().bind(null,"head"),m.domAPI=i(),m.insertStyleElement=p();t()(f.A,m);f.A&&f.A.locals&&f.A.locals;var g=n(718),v={};v.styleTagTransform=h(),v.setAttributes=l(),v.insert=c().bind(null,"head"),v.domAPI=i(),v.insertStyleElement=p();t()(g.A,v);g.A&&g.A.locals&&g.A.locals;var y=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}s((r=r.apply(e,t||[])).next())}))},b=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}};function x(e,t){localStorage.setItem(e,t)}function E(e){return localStorage.getItem(e)}function A(e){return new Promise((function(t){return setTimeout(t,e)}))}function w(){return game_data}var C=[];function N(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0,r=e;n<r.length;n++){var o=r[n];C.push((new Date).toLocaleString("de-DE")+" - "+o)}for(var i=0;i<C.length-200;i++)C.shift()}function k(){return C}function S(e){return y(this,void 0,void 0,(function(){return b(this,(function(t){return[2,$.get(e,(function(e){return e}))]}))}))}function T(e,t){return y(this,void 0,void 0,(function(){return b(this,(function(n){return[2,$.post(e,t,(function(e){return e}))]}))}))}function B(e){var t=Math.floor(e-Date.now()/1e3),n=Math.floor(t/60),r=Math.floor(n/60);return t-=60*n,n-=60*r,1==r.toString().length&&(r="0"+r),1==n.toString().length&&(n="0"+n),1==t.toString().length&&(t="0"+t),r+":"+n+":"+t}var L,_=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}s((r=r.apply(e,t||[])).next())}))},I=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},U=function(){function e(e){try{this.container=this.create(),this.popup=this.container.children[0],this.popup.appendChild(this.createHeader()),this.popup.appendChild(this.createContent(e))}catch(e){console.error(e)}}return e.prototype.show=function(e){return _(this,void 0,void 0,(function(){var t,n;return I(this,(function(r){for(this.container.style.display="",this.popup.style.minWidth="400px",this.popup.style.maxWidth="70vw",this.popup.style.maxHeight="80vh",this.popup.style.minHeight="260px",t=this.popup.getElementsByClassName("sta-nav")[0].children,n=0;n<t.length;n++)t[n].textContent===e&&t[n].click();return[2]}))}))},e.prototype.create=function(){var e=this,t=document.createElement("div");t.className="popup_box_container sub-dialog sta-container",document.getElementById("ds_body").appendChild(t),t.addEventListener("click",(function(){e.popup.style.minWidth="0px",e.popup.style.maxWidth="0vw",e.popup.style.maxHeight="0vh",e.popup.style.minHeight="0px",setTimeout((function(){t.style.display="none"}),500)})),t.style.display="none";var n=document.createElement("div");return n.className="popup_box slim mobile show sta-popup",t.appendChild(n),n.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation()})),t},e.prototype.createHeader=function(){var e=document.createElement("div");e.className="sta-popup-header-container";var t=document.createElement("div");t.className="sta-info",t.setAttribute("data-title","Der Bot automatisiert Aufgaben im Hintergrund, ist aber nur für die Anfangsphase empfohlen. Sobald der Account Manager freigeschalten ist bitte unbedingt wechseln!"),e.appendChild(t),UI.ToolTip(t);var n=document.createElement("h2");n.className="sta-popup-header-label",n.textContent="Bot",e.appendChild(n);var r=document.createElement("div");r.className="sta-popup-description",r.textContent="Der Bot läuft nur wenn das kleines Stammessymbol neben 'Bot' in der Menüleiste blau leuchtet, klicke darauf um es umzuschalten. Dann führt er alle Aufgaben aus die hier oder über das Menü aktiviert sind.",e.appendChild(r);var o=document.createElement("div");return o.className="sta-logs",o.textContent="Kopiere logs",o.setAttribute("data-title","Kopiert die letzten Log-Einträge in die Zwischenablage, vermutlich nur für den Entwickler interessant falls es Probleme gibt. Discord: Jimmy653"),o.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation();for(var t="",n=0,r=k();n<r.length;n++){t+=r[n]+"\n"}navigator.clipboard.writeText(t).then((function(){N("Logs exported")})).catch((function(){N("Error during export of logs")}))})),e.appendChild(o),UI.ToolTip(o),e},e.prototype.createContent=function(e){var t=document.createElement("div");return t.className="sta-popup-content",t.appendChild(this.createNavItem(e,t)),t},e.prototype.createNavItem=function(e,t){var n=document.createElement("div");n.className="sta-nav";for(var r=function(e){var r=document.createElement("div");r.textContent=e.getName(),r.className="sta-nav-item",r.addEventListener("click",(function(o){if(o.preventDefault(),o.stopPropagation(),!r.className.includes("sta-nav-item-selected")){for(var i=0;i<n.children.length;i++)n.children[i].className="sta-nav-item";if(r.className+=" sta-nav-item-selected",t.children.length>1){var a=t.lastChild;a.className="sta-menu-component",a.remove()}t.appendChild(e.getComponent()),e.getComponent().className="sta-menu-component sta-fade-in"}})),n.appendChild(r)},o=0,i=e;o<i.length;o++){r(i[o])}return n},e}(),P=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}s((r=r.apply(e,t||[])).next())}))},R=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},O=function(){function e(e,t){this.subscriber=[];try{this.name=e,this.settings=t,this.component=document.createElement("div"),this.component.appendChild(this.createHeader(this.name));for(var n=0,r=this.settings;n<r.length;n++){var o=r[n];this.component.appendChild(this.createSetting(o))}}catch(e){console.error(e)}}return e.prototype.isPremium=function(){return this.premium},e.prototype.setError=function(e){this.error=e},e.prototype.isError=function(){return this.error},e.prototype.getEnabledSetting=function(){return this.settings[0].setting},e.prototype.getName=function(){return this.name},e.prototype.getComponent=function(){return this.component},e.prototype.subscribe=function(e){this.subscriber.push(e)},e.prototype.invertEnabled=function(){return P(this,void 0,void 0,(function(){var e,t,n,r;return R(this,(function(o){switch(o.label){case 0:return[4,A(100)];case 1:for(o.sent(),e="true"===E(this.getEnabledSetting()),t=!e,x(this.getEnabledSetting(),t+""),n=0,r=this.subscriber;n<r.length;n++)(0,r[n])(t);return[2]}}))}))},e.prototype.createHeader=function(e){var t=document.createElement("div");return t.className="sta-menu-header",t.textContent=e,t},e.prototype.createBuildingSelector=function(){return document.createElement("div")},e.prototype.createPremium=function(e){this.premium=!0;var t=document.createElement("img");t.src="https://dsde.innogamescdn.com/asset/234518f7/graphic/premium/features/Premium_large.png",t.className="sta-feature-header-premiun-icon",t.setAttribute("data-title",e),UI.ToolTip(t);var n=document.createElement("div");n.className="sta-feature-header-premium",n.appendChild(t),w().features.Premium.active||(t.style.opacity="0.5");var r=this.component.children[0];r.remove(),n.appendChild(r),this.component.insertBefore(n,this.component.children[0])},e.prototype.createSetting=function(e){var t=document.createElement("div");return t.className="sta-menu-item-row",t.appendChild(this.createLabel(e.short)),t.appendChild(this.createInput(e)),t},e.prototype.createLabel=function(e){var t=document.createElement("div");return t.className="sta-menu-setting-label",t.textContent=e,t},e.prototype.createInput=function(e){var t=this,n=document.createElement("div");n.className="sta-labelled-input";var r=document.createElement("div");r.textContent=e.long,r.className="sta-input-label";var o=document.createElement("input");switch(o.className="sta-setting-input-"+e.setting,e.type){case"checkbox":o.type="checkbox",o.checked="true"===E(e.setting),r.className+=" clickable",o.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation(),t.invertEnabled()})),this.subscribe((function(e){o.checked=e})),n.addEventListener("click",(function(e){t.invertEnabled()}));break;case"numeric":o.type="text",o.inputMode="numeric",o.value=E(e.setting),o.className+=" sta-numeric-input",o.addEventListener("change",(function(t){t.preventDefault(),t.stopPropagation(),x(e.setting,o.value)}));break;case"text":o.type="text",o.value=E(e.setting),o.addEventListener("change",(function(t){t.preventDefault(),t.stopPropagation(),x(e.setting,o.value)}))}return n.appendChild(o),n.appendChild(r),n},e}(),D=function(){};!function(e){e.RUNNING="sta-running",e.SCAVENGE_ENABLED="sta-scavenge-enabled",e.SCAVENGE_KEEP_SPEAR="sta-scavenge-keep-spear",e.SCAVENGE_KEEP_SWORD="sta-scavenge-keep-sword",e.SCAVENGE_KEEP_AXE="sta-scavenge-keep-axe",e.SCAVENGE_KEEP_LIGHT="sta-scavenge-keep-light",e.SCAVENGE_KEEP_HEAVY="sta-scavenge-keep-heavy",e.CONSTRUCTION_ENABLED="sta-construction-enabled",e.CONSTRUCTION_BUILD_CODE="sta-construction-build-code",e.CONSTRUCTION_NEXT_RUN="sta-construction-next-run"}(L||(L={}));var M,G=(M=function(e,t){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},M(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}M(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),K=function(e){function t(){var t=e.call(this,"Raubzug",[{short:"Aktiviert:",long:"Sendet die Truppen in ausgewählten Dörfern auf Raubzug, wenn der Bot läuft",setting:L.SCAVENGE_ENABLED,type:"checkbox"},{short:"Speere behalten:",long:"Anzahl der Speere die in jedem Dorf zuhause bleiben",setting:L.SCAVENGE_KEEP_SPEAR,type:"numeric"},{short:"Schwerter behalten:",long:"Anzahl der Schwerter die in jedem Dorf zuhause bleiben",setting:L.SCAVENGE_KEEP_SWORD,type:"numeric"},{short:"Äxte behalten:",long:"Anzahl der Äxte die in jedem Dorf zuhause bleiben",setting:L.SCAVENGE_KEEP_AXE,type:"numeric"},{short:"Leichte behalten:",long:"Anzahl der leichten Kavallarie die in jedem Dorf zuhause bleiben",setting:L.SCAVENGE_KEEP_LIGHT,type:"numeric"},{short:"Schwere behalten:",long:"Anzahl der schweren Kavallarie die in jedem Dorf zuhause bleiben",setting:L.SCAVENGE_KEEP_HEAVY,type:"numeric"}])||this;try{var n=t.component.children[1].children[1].children[0];n.disabled=!0,n.setAttribute("data-title","Diese Funktion ist noch nicht implementiert, bleibe gespannt!"),UI.ToolTip(n)}catch(e){console.error(e)}return t}return G(t,e),t.prototype.preRun=function(){throw new Error("Method not implemented.")},t.prototype.run=function(){throw new Error("Method not implemented.")},t.prototype.postRun=function(){throw new Error("Method not implemented.")},t}(O),j=["main","barracks","stable","garage","church","church_f","watchtower","snob","smith","place","statue","market","wood","stone","iron","farm","storage","hide","wall"],z=["Hauptgebäude","Kaserne","Stall","Werkstatt","Kirche","Kirche","Wachturm","Adelshof","Schmiede","Versammlungsplatz","Statue","Marktplatz","Holzfällerlager","Lehmgrube","Eisenmine","Bauernhof","Speicher","Versteck","Wall"],H=function(){function e(e){"string"==typeof e?(this.id=j.indexOf(e),this.name=e):(this.id=e,this.name=j[e]),this.uiName=z[this.id]}return e.prototype.getId=function(){return this.id},e.prototype.getName=function(){return this.name},e.prototype.createIcon=function(e){var t=document.createElement("img");return t.src="https://dsde.innogamescdn.com/asset/234518f7/graphic/buildings/"+this.name+".png",t.setAttribute("data-title",this.uiName),t.className="tooltip-delayed sta-building-icon",e&&UI.ToolTip(t),t},e}(),V=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Z=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}s((r=r.apply(e,t||[])).next())}))},F=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},Y=function(e){function t(t,n,r,o){var i=e.call(this,t)||this;return i.level=n,i.totalLevel=r.getLevel(),i.buildingTotal=r,i.previous=o,i}return V(t,e),t.prototype.setNext=function(e){this.next=e},t.prototype.getNext=function(){return this.next},t.prototype.setPrevious=function(e){this.previous=e},t.prototype.getPrevious=function(){return this.previous},t.prototype.getTotalLevel=function(){return this.totalLevel},t.prototype.getLevel=function(){return this.level},t.prototype.addLevel=function(){this.level++},t.prototype.addTotalLevel=function(e){e===this.id&&(this.totalLevel++,this.buildingTotal.setLevel(this.totalLevel)),this.next&&this.next.addTotalLevel(e),this.updateUI()},t.prototype.removeLevel=function(){this.level--},t.prototype.removeTotalLevel=function(e){e===this.id&&(this.totalLevel--,this.buildingTotal.setLevel(this.totalLevel)),this.next&&this.next.removeTotalLevel(e),this.updateUI()},t.prototype.getComp=function(){return this.comp},t.prototype.updateUI=function(){this.comp.getElementsByClassName("sta-construction-entry-level")[0].textContent="+"+this.level+" (Stufe "+this.totalLevel+")"},t.prototype.create=function(){var e=this,t=document.createElement("div");t.className="sta-construction-entry-row sta-fade-in",this.comp=t;var n=this.createIcon(!1);n.className="sta-construction-entry-icon",t.appendChild(n);var r=document.createElement("div");r.className="sta-construction-entry-name",r.textContent=this.uiName,t.appendChild(r);var o=document.createElement("div");o.className="sta-construction-entry-level",t.appendChild(o),this.updateUI();var i=document.createElement("div");i.className="sta-construction-entry-plus",i.setAttribute("data-title","Stufe erhöhen?"),UI.ToolTip(i),t.appendChild(i);var a=function(t){t.preventDefault(),e.addLevel(),e.addTotalLevel(e.id)};i.addEventListener("click",a);var c=document.createElement("div");c.className="sta-construction-entry-minus",c.setAttribute("data-title","Stufe reduzieren?"),UI.ToolTip(c),t.appendChild(c);var s=function(t){t.preventDefault(),e.level<=1||(e.removeLevel(),e.removeTotalLevel(e.id))};c.addEventListener("click",s);var l=document.createElement("div");l.className="sta-construction-entry-drag",l.setAttribute("data-title","Ich hab noch nicht heraus gefunden wie das funktioniert 😭");var u=function(e){e.preventDefault()};c.addEventListener("drag",u);var p=document.createElement("div");p.className="sta-construction-entry-remove",p.setAttribute("data-title","Eintrag löschen?"),UI.ToolTip(p),t.appendChild(p);var d=function(t){t.preventDefault(),p.removeEventListener("click",d),c.removeEventListener("click",s),i.removeEventListener("click",a),l.removeEventListener("click",u);for(var n=0;n<e.level;n++)e.removeTotalLevel(e.id);e.fadeOut(e.comp),e.next&&e.next.setPrevious(e.previous),e.previous&&e.previous.setNext(e.next)};return p.addEventListener("click",d),UI.ToolTip(l),t.appendChild(l),t},t.prototype.fadeOut=function(e){return Z(this,void 0,void 0,(function(){var t,n,r,o,i,a;return F(this,(function(c){switch(c.label){case 0:for(e.classList.remove("sta-fade-in"),e.className+=" sta-fade-out",t=e.parentElement,n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),o=0,i=0;i<t.children.length&&t.children[i]!==e;i++)a=t.children[i].getBoundingClientRect(),o+=a.height+2;return e.style.position="absolute",e.style.top=o+"px",e.style.left=r.left-n.left+"px",e.style.width=r.width+"px",e.style.height=r.height+"px",e.style.zIndex="17000",[4,A(200)];case 1:return c.sent(),e.remove(),[2]}}))}))},t}(H),W=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),J=function(e){function t(t){var n=e.call(this,t)||this;return n.level=0,n}return W(t,e),t.prototype.addLevel=function(e){this.level+=e},t.prototype.setLevel=function(e){this.level=e,this.levelComp.textContent=e+""},t.prototype.getLevelComp=function(){return this.levelComp},t.prototype.getLevel=function(){return this.level},t.prototype.create=function(){var e=document.createElement("div");e.className="sta-construction-building-upgradeable",e.appendChild(this.createIcon(!0));var t=document.createElement("div");return t.className="sta-construction-building-level-upgradeable",t.textContent=this.getLevel()+"",this.levelComp=t,e.appendChild(t),e},t}(H),Q=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),q=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}s((r=r.apply(e,t||[])).next())}))},X=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},ee=function(e){function t(){var t=e.call(this,"Konstruktion",[{short:"Aktiviert:",long:"Baut die ausgewählten Dörfer nach Bauplan aus, wenn der Bot läuft",setting:L.CONSTRUCTION_ENABLED,type:"checkbox"},{short:"Bauplan:",long:"Export-Code einer Konstruktions-Vorlage",setting:L.CONSTRUCTION_BUILD_CODE,type:"text"}])||this;try{t.decodeBuildplan(E(L.CONSTRUCTION_BUILD_CODE)),t.createBody(),t.runner=new te(t)}catch(e){console.error(e)}return t}return Q(t,e),t.prototype.decodeBuildplan=function(e){var t;this.buildings=[],this.firstBuilding=void 0,this.lastBuilding=void 0,this.planName=void 0;try{t=atob(e)}catch(e){return void console.error("Ungültiger Code")}var n,r,o,i={number:J},a=w();for(var c in a.village.buildings){i[(u=new J(c)).getId()]=u}for(var s=2;s<t.length;s+=2)if(244!=t.charCodeAt(s)&&244!=t.charCodeAt(s+1)||128!=t.charCodeAt(s+1)&&128!=t.charCodeAt(s+4)||128!=t.charCodeAt(s+2)||128!=t.charCodeAt(s+3)||(n?(r=s,244===t.charCodeAt(s+1)&&r++):(n=s+4,244===t.charCodeAt(s+1)&&n++)),!n){var l=t.charCodeAt(s),u=i[l],p=t.charCodeAt(s+1);u||(u=new J(l),i[l]=u),u.addLevel(p);var d=new Y(l,p,u,o);o&&o.setNext(d),o=d,this.firstBuilding||(this.firstBuilding=o)}(this.lastBuilding=o,this.firstBuilding||this.lastBuilding)||((u=i[0]).addLevel(1),this.firstBuilding=new Y(0,1,u,void 0),this.lastBuilding=this.firstBuilding);for(s=0;s<20;s++)i[s]&&this.buildings.push(i[s]);this.planName=n&&r?t.substring(n,r).trim():"Default"},t.prototype.encodeBuildplan=function(e){var t="";t+="??";for(var n=e;n;)t+=String.fromCharCode(n.getId()),t+=String.fromCharCode(n.getLevel()),n=n.getNext();t+=String.fromCharCode(244),t+=String.fromCharCode(128),t+=String.fromCharCode(128),t+=String.fromCharCode(128),t+=this.planName,t+=String.fromCharCode(244),t+=String.fromCharCode(128),t+=String.fromCharCode(128),t+=String.fromCharCode(128);var r=btoa(t.toString());x(L.CONSTRUCTION_BUILD_CODE,r);var o=this.component.getElementsByClassName("sta-setting-input-sta-construction-build-code")[0];o&&(o.value=r)},t.prototype.createBody=function(){var e=this.createHeader(this.planName);e.id="sta-buildplan-header",this.component.appendChild(e),this.component.appendChild(this.createBuildplan())},t.prototype.createBuildplan=function(){var e=this,t=document.createElement("div");return t.className="sta-construction-menu-buildplan",this.plan=this.createPlan(),t.appendChild(this.plan),t.appendChild(this.createBuildingSelector()),this.component.getElementsByClassName("sta-setting-input-sta-construction-build-code")[0].addEventListener("change",(function(n){n.preventDefault(),e.plan.remove(),e.decodeBuildplan(E(L.CONSTRUCTION_BUILD_CODE)),e.plan=e.createPlan(),t.insertBefore(e.plan,t.children[0]),document.getElementById("sta-buildplan-header").textContent=e.planName})),t},t.prototype.createPlan=function(){var e=document.createElement("div");e.className="sta-construction-entries",e.appendChild(this.createPlanHeader());for(var t=this.firstBuilding;t;)this.appendEntryToPlan(e,t),t=t.getNext();return e},t.prototype.appendEntryToPlan=function(e,t){var n=this;e.appendChild(t.create()),t.getComp().getElementsByClassName("sta-construction-entry-remove")[0].addEventListener("click",(function(e){e.preventDefault(),n.lastBuilding===t&&(n.lastBuilding=t.getPrevious()),n.firstBuilding===t&&(n.firstBuilding=t.getNext())}));var r=function(e){e.preventDefault(),e.stopPropagation(),n.encodeBuildplan(n.firstBuilding)};t.getComp().getElementsByClassName("sta-construction-entry-plus")[0].addEventListener("click",r),t.getComp().getElementsByClassName("sta-construction-entry-minus")[0].addEventListener("click",r),t.getComp().getElementsByClassName("sta-construction-entry-drag")[0].addEventListener("click",r),t.getComp().getElementsByClassName("sta-construction-entry-remove")[0].addEventListener("click",r)},t.prototype.createPlanHeader=function(){var e=this,t=document.createElement("div");t.className="sta-total-level";for(var n=function(n){t.appendChild(n.create()),n.getLevelComp().addEventListener("click",(function(t){t.preventDefault(),t.stopPropagation();var r=new Y(n.getId(),1,n,e.lastBuilding);e.lastBuilding&&e.lastBuilding.setNext(r),e.lastBuilding=r,e.firstBuilding||(e.firstBuilding=r),e.appendEntryToPlan(e.plan,r),r.addTotalLevel(r.getId()),e.encodeBuildplan(e.firstBuilding)}))},r=0,o=this.buildings;r<o.length;r++){n(o[r])}return t},t.prototype.preRun=function(){return this.runner.preRun()},t.prototype.run=function(){return q(this,void 0,void 0,(function(){return X(this,(function(e){return[2,this.runner.run(this.firstBuilding)]}))}))},t.prototype.postRun=function(){this.runner.postRun()},t}(O),te=function(e){function t(t){var n=e.call(this)||this;return n.config=t,n}return Q(t,e),t.prototype.preRun=function(){var e=+E(L.CONSTRUCTION_NEXT_RUN);return N("Waiting "+B(e/1e3)),Date.now()>e},t.prototype.run=function(e){return q(this,void 0,void 0,(function(){var t;return X(this,(function(n){return(t=w()).features.Premium.active&&this.config.isPremium()?[2,this.runPremium(e)]:[2,this.runFree(e,t.village.id)]}))}))},t.prototype.postRun=function(){},t.prototype.runPremium=function(e){throw new Error("Method not implemented.")},t.prototype.runFree=function(e,t){return q(this,void 0,void 0,(function(){return X(this,(function(n){return[2,S("game.php?screen=main&village="+t).then((function(n){var r;try{var o=$(n).find('script:contains("BuildingMain.buildings")')[0].innerHTML;r=JSON.parse(o.substring(30,o.length-2))}catch(e){throw"Could not find BuildingMain.buildings in game.php?screen=main"}for(var i=e;i;){var a=r[i.getName()];if(a){var c=a;if(!(c.level_next>i.getTotalLevel()))return c.forecast?(N("Upgrading "+i.getName()+" to "+c.level_next+" in "+B(c.forecast.when)),void x(L.CONSTRUCTION_NEXT_RUN,1e3*(c.forecast.when+5)+"")):c.error?void N("Error: '"+c.error+"' for "+i.getName()):c.can_build?(N("Upgrading "+i.getName()+" to "+c.level_next),T("/game.php?village="+t+"&screen=main&ajaxaction=upgrade_building&type=main","id="+i.getName()+"&force=1&destroy=0&source="+t+"&h=+"+w().csrf)):void N("Can't build "+i.getName());i=i.getNext()}else N(i.getName()+" not found. Skip"),i=i.getNext()}}))]}))}))},t}(D),ne=function(){function e(){var e=this;this.features=[new ee,new K];try{var t=this.createMenuButton();this.addMenuEntries(t),this.popup=new U(this.features);var n="true"===E(L.RUNNING);this.updateIcon(n),t.addEventListener("click",(function(t){t.preventDefault(),t.stopPropagation();var n=!("true"===E(L.RUNNING));x(L.RUNNING,n+""),e.updateIcon(n)}))}catch(e){N("Exception during Menu.constructor"),N(e)}}return e.prototype.getFeatures=function(){return this.features},e.prototype.updateIcon=function(e){var t=document.getElementById("menuIcon");t.className=e?"icon header new_post":"icon header no_new_post"},e.prototype.createMenuButton=function(){var e=document.createElement("td");e.id="menuButton",e.className="menu-item";var t=document.getElementById("menu_row");t&&t.insertBefore(e,t.children[t.children.length-1]);var n=document.getElementById("mobileTouch");n&&n.insertBefore(e,n.children[n.children.length-1]);var r=document.createElement("span");r.id="menuIcon",r.className="icon header no_new_post";var o=document.createElement("a");return o.appendChild(r),o.id="iconContainer",o.innerHTML+=" Bot",e.appendChild(o),e},e.prototype.addMenuEntries=function(e){var t=document.createElement("table");e.appendChild(t),t.className="menu_column sta-menu-column";var n=document.createElement("tbody");t.appendChild(n);for(var r=!0,o=0,i=this.features;o<i.length;o++){var a=i[o],c=void 0,s=void 0;r?(r=!1,c="-first-child",s="sta-leftUiThingyFirstChild"):(c="",s="sta-leftUiThingy"),this.addItem(n,a,s,c)}this.addMenuBottom(n)},e.prototype.addItem=function(e,t,n,r){var o=document.createElement("tr");e.appendChild(o);var i=document.createElement("td");o.appendChild(i),i.className="menu-column-item sta-menu-column-item";var a=document.createElement("div");i.appendChild(a),a.className=n;var c=document.createElement("input");c.type="checkbox",c.className="sta-menu-item-checkbox"+r,c.checked="true"===E(t.getEnabledSetting()),c.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation(),t.invertEnabled()})),t.subscribe((function(e){c.checked=e}));var s=document.createElement("div");s.innerText=t.getName(),s.className="sta-menu-column-item-text"+r;var l=document.createElement("div");l.className="sta-menu-item-container",l.appendChild(c),l.appendChild(s),i.appendChild(l);var u=this;o.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation(),u.popup.show(t.getName())}))},e.prototype.addMenuBottom=function(e){var t=document.createElement("tr");e.appendChild(t);var n=document.createElement("td");t.appendChild(n),n.className="bottom";var r=document.createElement("div");r.className="corner sta-corner",n.appendChild(r);var o=document.createElement("div");o.className="decoration",n.appendChild(o)},e}(),re=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}s((r=r.apply(e,t||[])).next())}))},oe=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},ie=function(){function e(e){var t=this;setTimeout((function(){return t.check(e)}),4e3),setTimeout((function(){return window.location.reload()}),72e5)}return e.prototype.check=function(e){return re(this,void 0,void 0,(function(){var t,n,r,o,i;return oe(this,(function(a){switch(a.label){case 0:0,t=0,n=e.getFeatures(),a.label=1;case 1:return t<n.length?(r=n[t],[4,A(1e3)]):[3,7];case 2:if(a.sent(),r.isError())return N("Skipping "+r.getName()+" because of previous error"),[3,6];a.label=3;case 3:return a.trys.push([3,5,,6]),o=N,i=r.getName()+" - ",[4,this.run(r)];case 4:return o.apply(void 0,[i+a.sent()]),[3,6];case 5:return N(a.sent()),r.setError(!0),[3,6];case 6:return t++,[3,1];case 7:return[3,0];case 8:return[2]}}))}))},e.prototype.run=function(e){return re(this,void 0,void 0,(function(){var t;return oe(this,(function(n){switch(n.label){case 0:if("true"!==E(L.RUNNING)||"true"!==E(e.getEnabledSetting()))return[2,!1];try{if(!e.preRun())return[2,!1]}catch(t){throw N(e.getName()+" - Exception during preRun"),t}n.label=1;case 1:return n.trys.push([1,3,,4]),[4,e.run()];case 2:return n.sent(),[3,4];case 3:throw t=n.sent(),N(e.getName()+" - Exception during run"),t;case 4:try{e.postRun()}catch(t){throw N(e.getName()+" - Exception during postRun"),t}return[2,!0]}}))}))},e}();function ae(){if("0"===w().player.sitter){new URLSearchParams(window.location.search).has("intro")&&x(L.RUNNING,"false");var e=new ne;new ie(e)}else console.log("Sitter mode detected - abort!")}})(),staemme=r})();